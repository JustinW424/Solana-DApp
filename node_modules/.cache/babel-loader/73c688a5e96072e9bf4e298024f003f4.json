{"ast":null,"code":"var _jsxFileName = \"F:\\\\jobs\\\\stake_in_solana\\\\source\\\\src\\\\components\\\\common\\\\OwnedTokenAccountsSelect.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport BN from \"bn.js\";\nimport Select from \"@material-ui/core/Select\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport { PublicKey } from \"@solana/web3.js\";\nimport { toDisplay } from \"../../utils/tokens\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function OwnedTokenAccountsSelect(p) {\n  _s();\n\n  const {\n    mint,\n    decimals,\n    variant,\n    onChange,\n    style\n  } = p;\n  const ownedTokenAccounts = useSelector(state => {\n    if (!mint) {\n      return [];\n    }\n\n    return state.common.ownedTokenAccounts.filter(ota => ota.account.mint.toString() === mint.toString());\n  });\n  const [fromAccount, setFromAccount] = useState(\"\");\n  return /*#__PURE__*/_jsxDEV(Select, {\n    style: style,\n    variant: variant,\n    fullWidth: true,\n    value: fromAccount,\n    onChange: e => {\n      const pk = e.target.value;\n      setFromAccount(pk);\n      const pubkey = new PublicKey(pk);\n      const token = ownedTokenAccounts.filter(ota => ota.publicKey.equals(pubkey)).pop();\n      onChange(pubkey, new BN(token.account.amount));\n    },\n    children: ownedTokenAccounts.length === 0 ? /*#__PURE__*/_jsxDEV(MenuItem, {\n      value: \"\",\n      children: \"No token accounts found\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }, this) : ownedTokenAccounts.map(ownedTokenAccount => {\n      return /*#__PURE__*/_jsxDEV(MenuItem, {\n        value: ownedTokenAccount.publicKey.toString(),\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            width: \"100%\",\n            display: \"flex\",\n            justifyContent: \"space-between\",\n            overflow: \"hidden\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: `${ownedTokenAccount.publicKey}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 17\n          }, this), decimals && /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              float: \"right\",\n              color: \"#ccc\"\n            },\n            children: `${toDisplay(ownedTokenAccount.account.amount, decimals !== null && decimals !== void 0 ? decimals : 0)}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 13\n      }, this);\n    })\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 5\n  }, this);\n}\n\n_s(OwnedTokenAccountsSelect, \"jQTJD9rFQsPGZIYDVDJotvL/5+w=\", false, function () {\n  return [useSelector];\n});\n\n_c = OwnedTokenAccountsSelect;\n\nvar _c;\n\n$RefreshReg$(_c, \"OwnedTokenAccountsSelect\");","map":{"version":3,"sources":["F:/jobs/stake_in_solana/source/src/components/common/OwnedTokenAccountsSelect.tsx"],"names":["React","useState","useSelector","BN","Select","MenuItem","PublicKey","toDisplay","OwnedTokenAccountsSelect","p","mint","decimals","variant","onChange","style","ownedTokenAccounts","state","common","filter","ota","account","toString","fromAccount","setFromAccount","e","pk","target","value","pubkey","token","publicKey","equals","pop","amount","length","map","ownedTokenAccount","width","display","justifyContent","overflow","float","color"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport BN from \"bn.js\";\nimport Select from \"@material-ui/core/Select\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport { PublicKey } from \"@solana/web3.js\";\nimport { State as StoreState } from \"../../store/reducer\";\nimport { toDisplay } from \"../../utils/tokens\";\n\ntype Props = {\n  style?: any;\n  mint?: PublicKey | null;\n  decimals?: number;\n  variant?: \"outlined\" | \"standard\";\n  onChange: (from: PublicKey, maxAmount: BN) => void;\n};\n\nexport default function OwnedTokenAccountsSelect(p: Props) {\n  const { mint, decimals, variant, onChange, style } = p;\n  const ownedTokenAccounts = useSelector((state: StoreState) => {\n    if (!mint) {\n      return [];\n    }\n    return state.common.ownedTokenAccounts.filter(\n      (ota) => ota.account.mint.toString() === mint.toString()\n    );\n  });\n\n  const [fromAccount, setFromAccount] = useState(\"\");\n\n  return (\n    <Select\n      style={style}\n      variant={variant}\n      fullWidth\n      value={fromAccount}\n      onChange={(e) => {\n        const pk = e.target.value as string;\n        setFromAccount(pk);\n        const pubkey = new PublicKey(pk);\n        const token = ownedTokenAccounts\n          .filter((ota) => ota.publicKey.equals(pubkey))\n          .pop();\n        onChange(pubkey, new BN(token!.account.amount));\n      }}\n    >\n      {ownedTokenAccounts.length === 0 ? (\n        <MenuItem value={\"\"}>No token accounts found</MenuItem>\n      ) : (\n        ownedTokenAccounts.map((ownedTokenAccount) => {\n          return (\n            <MenuItem value={ownedTokenAccount.publicKey.toString()}>\n              <div\n                style={{\n                  width: \"100%\",\n                  display: \"flex\",\n                  justifyContent: \"space-between\",\n                  overflow: \"hidden\",\n                }}\n              >\n                <div>{`${ownedTokenAccount.publicKey}`}</div>\n                {decimals && (\n                  <div style={{ float: \"right\", color: \"#ccc\" }}>{`${toDisplay(\n                    ownedTokenAccount.account.amount,\n                    decimals ?? 0\n                  )}`}</div>\n                )}\n              </div>\n            </MenuItem>\n          );\n        })\n      )}\n    </Select>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}