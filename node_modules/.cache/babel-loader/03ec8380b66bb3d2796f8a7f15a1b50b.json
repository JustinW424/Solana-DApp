{"ast":null,"code":"var _jsxFileName = \"F:\\\\jobs\\\\stake_in_solana\\\\source\\\\src\\\\components\\\\common\\\\Header.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$(),\n    _s3 = $RefreshSig$(),\n    _s4 = $RefreshSig$(),\n    _s5 = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { useHistory } from \"react-router-dom\";\nimport { useSnackbar } from \"notistack\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Menu from \"@material-ui/core/Menu\";\nimport Link from \"@material-ui/core/Link\";\nimport Typography from \"@material-ui/core/Typography\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Button from \"@material-ui/core/Button\";\nimport BubbleChartIcon from \"@material-ui/icons/BubbleChart\";\nimport RefreshIcon from \"@material-ui/icons/Refresh\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport { WalletDialogProvider, WalletDisconnectButton, WalletMultiButton } from \"@solana/wallet-adapter-material-ui\";\nimport { MenuItem } from \"@material-ui/core\";\nimport { refreshAccounts } from \"./BootstrapProvider\";\nimport { networks } from \"../../store/config\";\nimport { BootstrapState } from \"../../store/reducer\";\nimport { ActionType } from \"../../store/actions\";\nimport { useWallet } from \"./WalletProvider\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Header(props) {\n  _s();\n\n  const {\n    isAppReady\n  } = props;\n  const {\n    network\n  } = useSelector(state => {\n    return {\n      network: state.common.network,\n      isAppReady: state.common.isWalletConnected && state.common.bootstrapState === BootstrapState.Bootstrapped\n    };\n  });\n  const dispatch = useDispatch();\n  const {\n    enqueueSnackbar,\n    closeSnackbar\n  } = useSnackbar();\n  const {\n    wallet,\n    registryClient,\n    lockupClient\n  } = useWallet();\n  const [isRefreshing, setIsRefreshing] = useState(false);\n  return /*#__PURE__*/_jsxDEV(AppBar, {\n    position: \"static\",\n    style: {\n      background: \"#ffffff\",\n      color: \"#272727\",\n      boxShadow: \"none\",\n      borderBottom: \"solid 1pt #ccc\"\n    },\n    children: /*#__PURE__*/_jsxDEV(Toolbar, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: \"flex\",\n          justifyContent: \"space-between\",\n          width: \"100%\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: \"flex\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(SerumLogoButton, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(BarButton, {\n            label: \"Stake\",\n            hrefClient: \"/stake\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(BarButton, {\n            label: \"Presale\",\n            hrefClient: \"https://greatlegendary.com/presale/\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(BarButton, {\n            label: \"Market\",\n            hrefClient: \"https://market.greatlegendary.com/\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(BarButton, {\n            label: \"Whitepaper\",\n            hrefClient: \"https://whitepaper.greatlegendary.com/\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: \"flex\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            onClick: () => {\n              setIsRefreshing(true);\n              enqueueSnackbar(`Refreshing`, {\n                variant: \"info\"\n              });\n              refreshAccounts({\n                dispatch,\n                lockupClient,\n                registryClient,\n                network,\n                wallet\n              }).then(() => {\n                setIsRefreshing(false);\n                closeSnackbar();\n              }).catch(err => {\n                setIsRefreshing(false);\n                closeSnackbar();\n                enqueueSnackbar(`There was a problem refreshing: ${err}`, {\n                  variant: \"error\",\n                  autoHideDuration: 2500\n                });\n              });\n            },\n            style: {\n              display: isAppReady ? \"block\" : \"none\",\n              justifyContent: \"center\",\n              flexDirection: \"column\",\n              marginRight: \"10px\"\n            },\n            children: isRefreshing ? /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                marginTop: \"8px\",\n                padding: \"10px\"\n              },\n              children: /*#__PURE__*/_jsxDEV(CircularProgress, {\n                style: {\n                  width: \"24px\",\n                  height: \"24px\"\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 135,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 129,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(IconButton, {\n                children: /*#__PURE__*/_jsxDEV(RefreshIcon, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 140,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 139,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 138,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(NetworkSelector, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(WalletConnectButton, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Header, \"qE92W/n83BWDRgT6TrPg0PSmEB8=\", false, function () {\n  return [useSelector, useDispatch, useSnackbar, useWallet];\n});\n\n_c = Header;\n\nfunction SerumLogoButton() {\n  _s2();\n\n  const history = useHistory();\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: \"flex\"\n    },\n    onClick: () => history.push(\"/\"),\n    children: /*#__PURE__*/_jsxDEV(Button, {\n      color: \"inherit\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: \"flex\",\n          flexDirection: \"column\",\n          justifyContent: \"center\"\n        },\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          style: {\n            display: \"block\",\n            height: \"35px\"\n          },\n          alt: \"Logo\",\n          src: \"https://greatlegendary.com/wp-content/uploads/2021/11/logo-300x180.png\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 157,\n    columnNumber: 5\n  }, this);\n}\n\n_s2(SerumLogoButton, \"9cZfZ04734qoCGIctmKX7+sX6eU=\", false, function () {\n  return [useHistory];\n});\n\n_c2 = SerumLogoButton;\n\nfunction BarButton(props) {\n  _s3();\n\n  const history = useHistory();\n  const {\n    label,\n    href,\n    hrefClient\n  } = props;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: \"flex\",\n      flexDirection: \"column\",\n      justifyContent: \"center\"\n    },\n    onClick: () => hrefClient && history.push(hrefClient),\n    children: /*#__PURE__*/_jsxDEV(Link, {\n      style: {\n        color: \"inherit\",\n        textDecoration: \"none\"\n      },\n      href: href,\n      target: \"_blank\",\n      children: /*#__PURE__*/_jsxDEV(Button, {\n        color: \"inherit\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: \"flex\",\n            justifyContent: \"center\",\n            flexDirection: \"column\"\n          },\n          children: /*#__PURE__*/_jsxDEV(Typography, {\n            style: {\n              fontSize: \"15px\"\n            },\n            children: label\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 211,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 190,\n    columnNumber: 5\n  }, this);\n}\n\n_s3(BarButton, \"9cZfZ04734qoCGIctmKX7+sX6eU=\", false, function () {\n  return [useHistory];\n});\n\n_c3 = BarButton;\n\nfunction NetworkSelector() {\n  _s4();\n\n  const network = useSelector(state => {\n    return state.common.network;\n  });\n  const dispatch = useDispatch();\n  const [anchorEl, setAnchorEl] = useState(null);\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      marginRight: \"10px\",\n      fontSize: \"15px\",\n      display: \"flex\",\n      justifyContent: \"center\",\n      flexDirection: \"column\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(Button, {\n      color: \"inherit\",\n      onClick: e => setAnchorEl( // @ts-ignore\n      e.currentTarget),\n      children: [/*#__PURE__*/_jsxDEV(BubbleChartIcon, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        style: {\n          marginLeft: \"5px\",\n          fontSize: \"15px\"\n        },\n        children: network.label\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Menu, {\n      anchorEl: anchorEl,\n      open: Boolean(anchorEl),\n      onClose: handleClose,\n      style: {\n        marginLeft: \"12px\",\n        color: \"white\"\n      },\n      children: Object.keys(networks).map(n => /*#__PURE__*/_jsxDEV(MenuItem, {\n        onClick: () => {\n          handleClose();\n          dispatch({\n            type: ActionType.CommonSetNetwork,\n            item: {\n              network: networks[n],\n              networkKey: n\n            }\n          });\n        },\n        children: /*#__PURE__*/_jsxDEV(Typography, {\n          children: networks[n].label\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 13\n        }, this)\n      }, n, false, {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 231,\n    columnNumber: 5\n  }, this);\n}\n\n_s4(NetworkSelector, \"dfcJqYTFfkE7ToRTykjUd2ahPSk=\", false, function () {\n  return [useSelector, useDispatch];\n});\n\n_c4 = NetworkSelector;\nexport function WalletConnectButton() {\n  _s5();\n\n  const {\n    showDisconnect\n  } = useSelector(state => {\n    return {\n      showDisconnect: state.common.isWalletConnected\n    };\n  });\n  const dispatch = useDispatch();\n  const {\n    wallet,\n    lockupClient\n  } = useWallet();\n  const {\n    enqueueSnackbar\n  } = useSnackbar(); // Wallet connection event listeners.\n\n  useEffect(() => {\n    wallet.on(\"disconnect\", () => {\n      enqueueSnackbar(\"Disconnected from wallet\", {\n        variant: \"info\",\n        autoHideDuration: 2500\n      });\n      dispatch({\n        type: ActionType.CommonWalletDidDisconnect,\n        item: {}\n      });\n      dispatch({\n        type: ActionType.CommonTriggerShutdown,\n        item: {}\n      });\n    });\n    wallet.on(\"connect\", async () => {\n      dispatch({\n        type: ActionType.CommonWalletDidConnect,\n        item: {}\n      });\n      dispatch({\n        type: ActionType.CommonTriggerBootstrap,\n        item: {}\n      });\n    });\n  }, [wallet, dispatch, enqueueSnackbar, lockupClient.provider.connection]);\n  return /*#__PURE__*/_jsxDEV(WalletDialogProvider, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"flex\",\n        justifyContent: \"center\",\n        flexDirection: \"column\"\n      },\n      onClick: () => wallet.disconnect(),\n      children: /*#__PURE__*/_jsxDEV(WalletDisconnectButton, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 333,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 325,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      onClick: () => wallet.connect(),\n      style: {\n        display: \"flex\",\n        justifyContent: \"center\",\n        flexDirection: \"column\"\n      },\n      children: /*#__PURE__*/_jsxDEV(WalletMultiButton, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 343,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 335,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 324,\n    columnNumber: 5\n  }, this);\n}\n\n_s5(WalletConnectButton, \"ll5P9ytqTJyRbKtrNKz4/zI96v8=\", false, function () {\n  return [useSelector, useDispatch, useWallet, useSnackbar];\n});\n\n_c5 = WalletConnectButton;\n\nvar _c, _c2, _c3, _c4, _c5;\n\n$RefreshReg$(_c, \"Header\");\n$RefreshReg$(_c2, \"SerumLogoButton\");\n$RefreshReg$(_c3, \"BarButton\");\n$RefreshReg$(_c4, \"NetworkSelector\");\n$RefreshReg$(_c5, \"WalletConnectButton\");","map":{"version":3,"sources":["F:/jobs/stake_in_solana/source/src/components/common/Header.tsx"],"names":["React","useState","useEffect","useSelector","useDispatch","useHistory","useSnackbar","AppBar","Toolbar","Menu","Link","Typography","IconButton","Button","BubbleChartIcon","RefreshIcon","CircularProgress","WalletDialogProvider","WalletDisconnectButton","WalletMultiButton","MenuItem","refreshAccounts","networks","BootstrapState","ActionType","useWallet","Header","props","isAppReady","network","state","common","isWalletConnected","bootstrapState","Bootstrapped","dispatch","enqueueSnackbar","closeSnackbar","wallet","registryClient","lockupClient","isRefreshing","setIsRefreshing","background","color","boxShadow","borderBottom","display","justifyContent","width","variant","then","catch","err","autoHideDuration","flexDirection","marginRight","marginTop","padding","height","SerumLogoButton","history","push","BarButton","label","href","hrefClient","textDecoration","fontSize","NetworkSelector","anchorEl","setAnchorEl","handleClose","e","currentTarget","marginLeft","Boolean","Object","keys","map","n","type","CommonSetNetwork","item","networkKey","WalletConnectButton","showDisconnect","on","CommonWalletDidDisconnect","CommonTriggerShutdown","CommonWalletDidConnect","CommonTriggerBootstrap","provider","connection","disconnect","connect"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, ReactElement } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { useHistory } from \"react-router-dom\";\nimport { useSnackbar } from \"notistack\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Select from \"@material-ui/core/Select\";\nimport Menu from \"@material-ui/core/Menu\";\nimport Link from \"@material-ui/core/Link\";\nimport Typography from \"@material-ui/core/Typography\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport ExitToAppIcon from \"@material-ui/icons/ExitToApp\";\nimport Button from \"@material-ui/core/Button\";\nimport PersonIcon from \"@material-ui/icons/Person\";\nimport BubbleChartIcon from \"@material-ui/icons/BubbleChart\";\nimport RefreshIcon from \"@material-ui/icons/Refresh\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport {\n  WalletDialogProvider,\n  WalletDisconnectButton,\n  WalletMultiButton,\n} from \"@solana/wallet-adapter-material-ui\";\nimport { Popper, MenuList, MenuItem, Grow } from \"@material-ui/core\";\nimport { refreshAccounts } from \"./BootstrapProvider\";\nimport { networks } from \"../../store/config\";\nimport {\n  State as StoreState,\n  ProgramAccount,\n  BootstrapState,\n} from \"../../store/reducer\";\nimport { ActionType } from \"../../store/actions\";\nimport { useWallet } from \"./WalletProvider\";\n\ntype HeaderProps = {\n  isAppReady: boolean;\n  member?: ProgramAccount;\n};\n\nexport default function Header(props: HeaderProps) {\n  const { isAppReady } = props;\n  const { network } = useSelector((state: StoreState) => {\n    return {\n      network: state.common.network,\n      isAppReady:\n        state.common.isWalletConnected &&\n        state.common.bootstrapState === BootstrapState.Bootstrapped,\n    };\n  });\n  const dispatch = useDispatch();\n  const { enqueueSnackbar, closeSnackbar } = useSnackbar();\n  const { wallet, registryClient, lockupClient } = useWallet();\n  const [isRefreshing, setIsRefreshing] = useState(false);\n  return (\n    <AppBar\n      position=\"static\"\n      style={{\n        background: \"#ffffff\",\n        color: \"#272727\",\n        boxShadow: \"none\",\n        borderBottom: \"solid 1pt #ccc\",\n      }}\n    >\n      <Toolbar>\n        <div\n          style={{\n            display: \"flex\",\n            justifyContent: \"space-between\",\n            width: \"100%\",\n          }}\n        >\n          <div style={{ display: \"flex\" }}>\n            <SerumLogoButton />\n            <BarButton label=\"Stake\" hrefClient=\"/stake\" />\n            <BarButton label=\"Presale\" hrefClient=\"https://greatlegendary.com/presale/\" />\n            <BarButton label=\"Market\" hrefClient=\"https://market.greatlegendary.com/\" />\n            <BarButton label=\"Whitepaper\" hrefClient=\"https://whitepaper.greatlegendary.com/\" />\n            {/* <BarButton label=\"Lockup\" hrefClient=\"/lockup\" />\n            <BarButton\n              label=\"Multisig\"\n              href=\"https://multisig.projectserum.com\"\n            />\n            <BarButton label=\"Trade\" href=\"https://dex.projectserum.com\" />\n            {network.srmFaucet && (\n              <BarButton\n                label=\"Faucet\"\n                href=\"https://www.spl-token-ui.com/#/token-faucets\"\n              />\n            )} */}\n          </div>\n          <div\n            style={{\n              display: \"flex\",\n            }}\n          >\n            <div\n              onClick={() => {\n                setIsRefreshing(true);\n                enqueueSnackbar(`Refreshing`, {\n                  variant: \"info\",\n                });\n                refreshAccounts({\n                  dispatch,\n                  lockupClient,\n                  registryClient,\n                  network,\n                  wallet,\n                })\n                  .then(() => {\n                    setIsRefreshing(false);\n                    closeSnackbar();\n                  })\n                  .catch((err) => {\n                    setIsRefreshing(false);\n                    closeSnackbar();\n                    enqueueSnackbar(`There was a problem refreshing: ${err}`, {\n                      variant: \"error\",\n                      autoHideDuration: 2500,\n                    });\n                  });\n              }}\n              style={{\n                display: isAppReady ? \"block\" : \"none\",\n                justifyContent: \"center\",\n                flexDirection: \"column\",\n                marginRight: \"10px\",\n              }}\n            >\n              {isRefreshing ? (\n                <div\n                  style={{\n                    marginTop: \"8px\",\n                    padding: \"10px\",\n                  }}\n                >\n                  <CircularProgress style={{ width: \"24px\", height: \"24px\" }} />\n                </div>\n              ) : (\n                <div>\n                  <IconButton>\n                    <RefreshIcon />\n                  </IconButton>\n                </div>\n              )}\n            </div>\n            <NetworkSelector />\n            <WalletConnectButton />\n          </div>\n        </div>\n      </Toolbar>\n    </AppBar>\n  );\n}\n\nfunction SerumLogoButton() {\n  const history = useHistory();\n  return (\n    <div style={{ display: \"flex\" }} onClick={() => history.push(\"/\")}>\n      <Button color=\"inherit\">\n        <div\n          style={{\n            display: \"flex\",\n            flexDirection: \"column\",\n            justifyContent: \"center\",\n          }}\n        >\n          <img\n            style={{\n              display: \"block\",\n              height: \"35px\",\n            }}\n            alt=\"Logo\"\n            src=\"https://greatlegendary.com/wp-content/uploads/2021/11/logo-300x180.png\"\n          />\n        </div>\n      </Button>\n    </div>\n  );\n}\n\ntype BarButtonProps = {\n  label: string;\n  hrefClient?: string;\n  href?: string;\n};\n\nfunction BarButton(props: BarButtonProps) {\n  const history = useHistory();\n  const { label, href, hrefClient } = props;\n  return (\n    <div\n      style={{\n        display: \"flex\",\n        flexDirection: \"column\",\n        justifyContent: \"center\",\n      }}\n      onClick={() => hrefClient && history.push(hrefClient)}\n    >\n      <Link\n        style={{ color: \"inherit\", textDecoration: \"none\" }}\n        href={href}\n        target=\"_blank\"\n      >\n        <Button color=\"inherit\">\n          <div\n            style={{\n              display: \"flex\",\n              justifyContent: \"center\",\n              flexDirection: \"column\",\n            }}\n          >\n            <Typography style={{ fontSize: \"15px\" }}>{label}</Typography>\n          </div>\n        </Button>\n      </Link>\n    </div>\n  );\n}\n\nfunction NetworkSelector() {\n  const network = useSelector((state: StoreState) => {\n    return state.common.network;\n  });\n  const dispatch = useDispatch();\n  const [anchorEl, setAnchorEl] = useState(null);\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  return (\n    <div\n      style={{\n        marginRight: \"10px\",\n        fontSize: \"15px\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        flexDirection: \"column\",\n      }}\n    >\n      <Button\n        color=\"inherit\"\n        onClick={(e) =>\n          setAnchorEl(\n            // @ts-ignore\n            e.currentTarget\n          )\n        }\n      >\n        <BubbleChartIcon />\n        <Typography style={{ marginLeft: \"5px\", fontSize: \"15px\" }}>\n          {network.label}\n        </Typography>\n      </Button>\n      <Menu\n        anchorEl={anchorEl}\n        open={Boolean(anchorEl)}\n        onClose={handleClose}\n        style={{\n          marginLeft: \"12px\",\n          color: \"white\",\n        }}\n      >\n        {Object.keys(networks).map((n: string) => (\n          <MenuItem\n            key={n}\n            onClick={() => {\n              handleClose();\n              dispatch({\n                type: ActionType.CommonSetNetwork,\n                item: {\n                  network: networks[n],\n                  networkKey: n,\n                },\n              });\n            }}\n          >\n            <Typography>{networks[n].label}</Typography>\n          </MenuItem>\n        ))}\n      </Menu>\n    </div>\n  );\n}\n\nexport function WalletConnectButton(): ReactElement {\n  const { showDisconnect } = useSelector((state: StoreState) => {\n    return {\n      showDisconnect: state.common.isWalletConnected,\n    };\n  });\n  const dispatch = useDispatch();\n  const { wallet, lockupClient } = useWallet();\n  const { enqueueSnackbar } = useSnackbar();\n\n  // Wallet connection event listeners.\n  useEffect(() => {\n    wallet.on(\"disconnect\", () => {\n      enqueueSnackbar(\"Disconnected from wallet\", {\n        variant: \"info\",\n        autoHideDuration: 2500,\n      });\n      dispatch({\n        type: ActionType.CommonWalletDidDisconnect,\n        item: {},\n      });\n      dispatch({\n        type: ActionType.CommonTriggerShutdown,\n        item: {},\n      });\n    });\n    wallet.on(\"connect\", async () => {\n      dispatch({\n        type: ActionType.CommonWalletDidConnect,\n        item: {},\n      });\n      dispatch({\n        type: ActionType.CommonTriggerBootstrap,\n        item: {},\n      });\n    });\n  }, [wallet, dispatch, enqueueSnackbar, lockupClient.provider.connection]);\n\n  return (\n    <WalletDialogProvider>\n      <div\n        style={{\n          display: \"flex\",\n          justifyContent: \"center\",\n          flexDirection: \"column\",\n        }}\n        onClick={() => wallet.disconnect()}\n      >\n        <WalletDisconnectButton />\n      </div>\n      <div\n        onClick={() => wallet.connect()}\n        style={{\n          display: \"flex\",\n          justifyContent: \"center\",\n          flexDirection: \"column\",\n        }}\n      >\n        <WalletMultiButton />\n      </div>\n    </WalletDialogProvider>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}